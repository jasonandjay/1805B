[{"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx":"1","D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx":"2","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx":"3","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts":"4","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx":"5","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx":"6","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx":"7","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx":"8","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx":"9","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx":"10","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts":"11","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts":"12","D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts":"13","D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js":"14","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts":"15","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts":"16","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts":"17","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts":"18","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts":"19","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts":"20"},{"size":309,"mtime":1610093092735,"results":"21","hashOfConfig":"22"},{"size":452,"mtime":1610429622381,"results":"23","hashOfConfig":"22"},{"size":827,"mtime":1610088481807,"results":"24","hashOfConfig":"22"},{"size":876,"mtime":1610088638595,"results":"25","hashOfConfig":"22"},{"size":211,"mtime":1610074667546,"results":"26","hashOfConfig":"22"},{"size":211,"mtime":1610074670222,"results":"27","hashOfConfig":"22"},{"size":756,"mtime":1610350346638,"results":"28","hashOfConfig":"22"},{"size":2816,"mtime":1610348287212,"results":"29","hashOfConfig":"22"},{"size":2385,"mtime":1610354213492,"results":"30","hashOfConfig":"22"},{"size":713,"mtime":1610433410617,"results":"31","hashOfConfig":"22"},{"size":77,"mtime":1610433171617,"results":"32","hashOfConfig":"22"},{"size":460,"mtime":1610094059940,"results":"33","hashOfConfig":"22"},{"size":824,"mtime":1610089361493,"results":"34","hashOfConfig":"22"},{"size":1046,"mtime":1610090212841,"results":"35","hashOfConfig":"22"},{"size":182,"mtime":1610348905792,"results":"36","hashOfConfig":"22"},{"size":117,"mtime":1610429413728,"results":"37","hashOfConfig":"22"},{"size":107,"mtime":1610429790432,"results":"38","hashOfConfig":"22"},{"size":366,"mtime":1610433386105,"results":"39","hashOfConfig":"22"},{"size":153,"mtime":1610433026110,"results":"40","hashOfConfig":"22"},{"size":150,"mtime":1610433274484,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"gha5av",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx",[],["86","87"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts",["88"],"// 引入一级路由\r\nimport Login from '../views/Login'\r\nimport Main from '../views/Main'\r\n\r\n// 引入二级路由\r\nimport Index from '../views/main/Index'\r\nimport Classify from '../views/main/Classify'\r\nimport Message from '../views/main/Message'\r\nimport Mine from '../views/main/Mine'\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst routes = [{\r\n    path: '/login',\r\n    component: Login\r\n}, {\r\n    path: '/main',\r\n    component: Main,\r\n    children: [{\r\n        path: '/main/index',\r\n        component: Index\r\n    }, {\r\n        path: '/main/classify',\r\n        component: Classify\r\n    }, {\r\n        path: '/main/message',\r\n        component: Message\r\n    }, {\r\n        path: '/main/mine',\r\n        component: Mine\r\n    }, {\r\n        path: '/main',\r\n        redirect: '/main/index'\r\n    }]\r\n}, {\r\n    path: '/',\r\n    redirect: '/main'\r\n}]\r\n\r\nexport default routes;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx",["89"],"import React from 'react'\r\nimport {useLocation, NavLink} from 'react-router-dom'\r\nimport RouterView from '../router/RouterView';\r\nimport { IRouteItem } from '../utils/interface';\r\n\r\ninterface IProps{\r\n    routes: IRouteItem[]\r\n}\r\nconst Mine: React.FC<IProps> = (props)=>{\r\n    let location = useLocation();\r\n    // return <p>{JSON.stringify(location)}</p>\r\n    return <React.Fragment>\r\n        <RouterView routes={props.routes}></RouterView>\r\n        <footer>\r\n            <NavLink to=\"/main/index\">首页</NavLink>\r\n            <NavLink to=\"/main/classify\">分类</NavLink>\r\n            <NavLink to=\"/main/message\">消息</NavLink>\r\n            <NavLink to=\"/main/mine\">我的</NavLink>\r\n        </footer>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx",["90"],"import React,{useEffect, useState, useRef} from 'react'\r\nimport { IMessageItem } from '../../utils/interface';\r\nimport { getMessageList } from '../../services'\r\nimport styles from './Message.module.scss'\r\nimport BScroll from '@better-scroll/core'\r\nimport Pulldown from '@better-scroll/pull-down'\r\nimport { BScrollConstructor } from '@better-scroll/core/dist/types/BScroll';\r\nimport {PluginAPI} from '@better-scroll/pull-down/dist/types'\r\n\r\nBScroll.use(Pulldown)\r\nlet scroll: BScrollConstructor & PluginAPI;\r\n\r\nconst Mine: React.FC = ()=>{\r\n    let [list, setList] = useState<IMessageItem []>([]);\r\n    let [page, setPage] = useState(1);\r\n    let [hasMore, setHasMore] = useState(true);\r\n    let ele = useRef();\r\n\r\n    //请求锁，防止同一请求重复触发\r\n    let getingList = false;\r\n\r\n    useEffect(()=>{\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        scroll = new BScroll('#wrap', {\r\n            pullDownRefresh: true\r\n        })\r\n        scroll.on('pullingDown', ()=>{\r\n            setPage(1);\r\n        })\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        getList()\r\n    }, [page]);\r\n\r\n    async function getList(){\r\n        if (getingList){\r\n            return;\r\n        }\r\n        getingList = true;\r\n        let res = await getMessageList(page);\r\n        getingList = false;\r\n        scroll.finishPullDown();\r\n        setHasMore(res.data.pageNo < res.data.totalPage)\r\n        if (page === 1){\r\n            setList(res.data.dataList as IMessageItem[])\r\n        }else{\r\n            setList([...list, ...res.data.dataList]);\r\n        }\r\n    }\r\n\r\n    function scrollEvent(e: React.UIEvent<HTMLDivElement>){\r\n        if (!hasMore || getingList){\r\n            return;\r\n        }\r\n        let wrap = e.currentTarget;\r\n        if (wrap.clientHeight + wrap.scrollTop > (ele.current as HTMLElement).clientHeight - 10){\r\n            setPage(page+1);\r\n        }\r\n    }\r\n\r\n    return <div className={styles.wrap} id=\"wrap\" onScroll={scrollEvent}>\r\n        <ul ref={ele}>{list.map(item=>{\r\n            return <li key={item.id} className=\"li\">\r\n                <img src=\"\" alt=\"\" className={styles.icon}/>\r\n                <p className={styles.content}>\r\n                    <span>排名更新：{item.title}</span>\r\n                    <span>{item.sendDate}</span>\r\n                </p>\r\n            </li>\r\n        })}</ul>\r\n    </div>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx",["91"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","severity":1,"message":"97","line":10,"column":10,"nodeType":"98","messageId":"99","endLine":10,"endColumn":18},{"ruleId":"96","severity":1,"message":"100","line":10,"column":9,"nodeType":"98","messageId":"99","endLine":10,"endColumn":17},{"ruleId":"101","severity":1,"message":"102","line":34,"column":8,"nodeType":"103","endLine":34,"endColumn":14,"suggestions":"104"},{"ruleId":"101","severity":1,"message":"105","line":17,"column":8,"nodeType":"103","endLine":17,"endColumn":10,"suggestions":"106"},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"@typescript-eslint/no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","'location' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getList'. Either include it or remove the dependency array.","ArrayExpression",["109"],"React Hook useEffect has a missing dependency: 'mine'. Either include it or remove the dependency array.",["110"],"no-global-assign","no-unsafe-negation",{"desc":"111","fix":"112"},{"desc":"113","fix":"114"},"Update the dependencies array to be: [getList, page]",{"range":"115","text":"116"},"Update the dependencies array to be: [mine]",{"range":"117","text":"118"},[1080,1086],"[getList, page]",[490,492],"[mine]"]