[{"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx":"1","D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx":"2","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx":"3","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts":"4","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx":"5","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx":"6","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx":"7","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx":"8","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx":"9","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx":"10","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts":"11","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts":"12","D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts":"13","D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js":"14","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts":"15","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts":"16","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts":"17","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts":"18","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts":"19","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts":"20","D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\Loading.tsx":"21","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\global.ts":"22","D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\toast.ts":"23","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Search.tsx":"24","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\search.ts":"25","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\search.ts":"26"},{"size":483,"mtime":1610438691995,"results":"27","hashOfConfig":"28"},{"size":526,"mtime":1610438819127,"results":"29","hashOfConfig":"28"},{"size":827,"mtime":1610088481807,"results":"30","hashOfConfig":"28"},{"size":920,"mtime":1610671000254,"results":"31","hashOfConfig":"28"},{"size":211,"mtime":1610074667546,"results":"32","hashOfConfig":"28"},{"size":211,"mtime":1610074670222,"results":"33","hashOfConfig":"28"},{"size":756,"mtime":1610350346638,"results":"34","hashOfConfig":"28"},{"size":2988,"mtime":1610671161552,"results":"35","hashOfConfig":"28"},{"size":2462,"mtime":1610440108800,"results":"36","hashOfConfig":"28"},{"size":1427,"mtime":1610671072837,"results":"37","hashOfConfig":"28"},{"size":99,"mtime":1610672258996,"results":"38","hashOfConfig":"28"},{"size":460,"mtime":1610094059940,"results":"39","hashOfConfig":"28"},{"size":1343,"mtime":1610440201997,"results":"40","hashOfConfig":"28"},{"size":1046,"mtime":1610090212841,"results":"41","hashOfConfig":"28"},{"size":185,"mtime":1610439748132,"results":"42","hashOfConfig":"28"},{"size":249,"mtime":1610672535076,"results":"43","hashOfConfig":"28"},{"size":107,"mtime":1610429790432,"results":"44","hashOfConfig":"28"},{"size":559,"mtime":1610526740196,"results":"45","hashOfConfig":"28"},{"size":153,"mtime":1610433026110,"results":"46","hashOfConfig":"28"},{"size":1045,"mtime":1610526789968,"results":"47","hashOfConfig":"28"},{"size":370,"mtime":1610438901843,"results":"48","hashOfConfig":"28"},{"size":267,"mtime":1610438878880,"results":"49","hashOfConfig":"28"},{"size":309,"mtime":1610440259677,"results":"50","hashOfConfig":"28"},{"size":1778,"mtime":1610674799397,"results":"51","hashOfConfig":"28"},{"size":435,"mtime":1610674861397,"results":"52","hashOfConfig":"28"},{"size":1887,"mtime":1610674776825,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"gha5av",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"56"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"106","usedDeprecatedRules":"56"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx",[],["111","112"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx",["113"],"import React from 'react'\r\nimport {useLocation, NavLink} from 'react-router-dom'\r\nimport RouterView from '../router/RouterView';\r\nimport { IRouteItem } from '../utils/interface';\r\n\r\ninterface IProps{\r\n    routes: IRouteItem[]\r\n}\r\nconst Mine: React.FC<IProps> = (props)=>{\r\n    let location = useLocation();\r\n    // return <p>{JSON.stringify(location)}</p>\r\n    return <React.Fragment>\r\n        <RouterView routes={props.routes}></RouterView>\r\n        <footer>\r\n            <NavLink to=\"/main/index\">首页</NavLink>\r\n            <NavLink to=\"/main/classify\">分类</NavLink>\r\n            <NavLink to=\"/main/message\">消息</NavLink>\r\n            <NavLink to=\"/main/mine\">我的</NavLink>\r\n        </footer>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx",["114","115"],"import React,{useEffect, useState, useRef} from 'react'\r\nimport { IMessageItem } from '../../utils/interface';\r\nimport { getMessageList } from '../../services'\r\nimport styles from './Message.module.scss'\r\nimport BScroll from '@better-scroll/core'\r\nimport Pulldown from '@better-scroll/pull-down'\r\nimport { BScrollConstructor } from '@better-scroll/core/dist/types/BScroll';\r\nimport {PluginAPI} from '@better-scroll/pull-down/dist/types'\r\n\r\nBScroll.use(Pulldown)\r\nlet scroll: BScrollConstructor & PluginAPI;\r\n\r\nconst Mine: React.FC = ()=>{\r\n    let [list, setList] = useState<IMessageItem []>([]);\r\n    let [page, setPage] = useState(1);\r\n    let [hasMore, setHasMore] = useState(true);\r\n    let ele = useRef();\r\n\r\n    //请求锁，防止同一请求重复触发\r\n    let getingList = false;\r\n\r\n    useEffect(()=>{\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        scroll = new BScroll('#wrap', {\r\n            pullDownRefresh: true\r\n        })\r\n        scroll.on('pullingDown', ()=>{\r\n            setPage(1);\r\n            getList();\r\n        })\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        getList()\r\n    }, [page]);\r\n\r\n    async function getList(){\r\n        if (getingList){\r\n            return;\r\n        }\r\n        getingList = true;\r\n        let res = await getMessageList(page);\r\n        getingList = false;\r\n        scroll.finishPullDown();\r\n        if(res){\r\n            setHasMore(res.data.pageNo < res.data.totalPage)\r\n            if (page === 1){\r\n                setList(res.data.dataList as IMessageItem[])\r\n            }else{\r\n                setList([...list, ...res.data.dataList]);\r\n            }\r\n        }\r\n    }\r\n\r\n    function scrollEvent(e: React.UIEvent<HTMLDivElement>){\r\n        if (!hasMore || getingList){\r\n            return;\r\n        }\r\n        let wrap = e.currentTarget;\r\n        if (wrap.clientHeight + wrap.scrollTop > (ele.current as HTMLElement).clientHeight - 10){\r\n            setPage(page+1);\r\n        }\r\n    }\r\n\r\n    return <div className={styles.wrap} id=\"wrap\" onScroll={scrollEvent}>\r\n        <ul ref={ele}>{list.map(item=>{\r\n            return <li key={item.id} className=\"li\">\r\n                <img src=\"\" alt=\"\" className={styles.icon}/>\r\n                <p className={styles.content}>\r\n                    <span>排名更新：{item.title}</span>\r\n                    <span>{item.sendDate}</span>\r\n                </p>\r\n            </li>\r\n        })}</ul>\r\n    </div>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx",["116","117"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts",["118"],"import axios from 'axios'\r\nimport store from '../store';\r\nimport {toast} from './toast'\r\n\r\nconst erros = {\r\n    400: '客户端请求错误',\r\n    401: '请求未经授权',\r\n    404: '未找到资源',\r\n    500: '服务器内部错误',\r\n    502: '网关错误',\r\n    503: '服务不可用'\r\n}\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://47.92.71.239/',\r\n    timeout: 30000\r\n});\r\n\r\n// 请求拦截器\r\ninstance.interceptors.request.use(function (config) {\r\n    store.global.showLoading();\r\n    // Do something before request is sent\r\n    return config;\r\n}, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n});\r\n\r\n// 相应拦截器\r\ninstance.interceptors.response.use(function (response) {\r\n    store.global.hideLoading();\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    // 1. 处理网络请求错误\r\n    if (response.status != 200){\r\n        toast(erros[response.status]);\r\n        return;\r\n    }\r\n    // 2. 处理业务逻辑错误\r\n    if (response.data.result !== '0'){\r\n        toast(response.data.resultNote);\r\n        return;\r\n    }\r\n    return response;\r\n}, function (error) {\r\n    store.global.hideLoading();\r\n    toast(error.toString());\r\n    return;\r\n});\r\n\r\nexport default instance;","D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\Loading.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\global.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\toast.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Search.tsx",["119","120","121"],"import React, { useEffect, useState } from 'react';\r\nimport useStore from '../context/useStore';\r\nimport { useObserver } from 'mobx-react-lite';\r\n\r\nconst Search: React.FC = () => {\r\n    let { search } = useStore();\r\n    let [searchText, setSearchText] = useState<string>('');\r\n\r\n    useEffect(() => {\r\n        search.getHotList();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        search.getHistoryList();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        // 获取搜索关键词提示\r\n        search.getSearchTips(searchText);\r\n    }, [searchText])\r\n\r\n    function getSearchResult(){\r\n        search.getSearchResult(searchText)\r\n    }\r\n    console.log('search...', search);\r\n\r\n    return useObserver(() => <div>\r\n        {/* 搜索框 */}\r\n        <section>\r\n            <input type=\"text\" placeholder=\"请输入你要搜索的内容\" value={searchText} onChange={e => setSearchText(e.target.value)} />\r\n            <button onClick={getSearchResult}>搜索</button>\r\n        </section>\r\n        {/* 搜索结果 */}\r\n        <section>{\r\n            search.searchRankList.map(item => {\r\n                return <li key={item.id}>\r\n                    <img src={item.image} alt=\"\" />\r\n                    <span>{item.name}</span>\r\n                </li>\r\n            })}</section>\r\n        {/* 关键词提示 */}\r\n        <section>{\r\n            search.searchTipList.map(item => {\r\n                return <p key={item}>{item}</p>\r\n            })}</section>\r\n        {/* 历史搜索 */}\r\n        <section></section>\r\n        {/* 热门推荐 */}\r\n        <section>\r\n            <p>热门推荐</p>\r\n            <div>{search.hotList.map(item => {\r\n                return <span key={item}>{item}</span>\r\n            })}</div>\r\n        </section>\r\n    </div>);\r\n}\r\n\r\nexport default Search;","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\search.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\search.ts",[],{"ruleId":"122","replacedBy":"123"},{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","severity":1,"message":"127","line":10,"column":9,"nodeType":"128","messageId":"129","endLine":10,"endColumn":17},{"ruleId":"130","severity":1,"message":"131","line":31,"column":8,"nodeType":"132","endLine":31,"endColumn":10,"suggestions":"133"},{"ruleId":"130","severity":1,"message":"131","line":35,"column":8,"nodeType":"132","endLine":35,"endColumn":14,"suggestions":"134"},{"ruleId":"130","severity":1,"message":"135","line":19,"column":8,"nodeType":"132","endLine":19,"endColumn":10,"suggestions":"136"},{"ruleId":"126","severity":1,"message":"137","line":24,"column":16,"nodeType":"128","messageId":"129","endLine":24,"endColumn":22},{"ruleId":"138","severity":1,"message":"139","line":35,"column":25,"nodeType":"140","messageId":"141","endLine":35,"endColumn":27},{"ruleId":"130","severity":1,"message":"142","line":11,"column":8,"nodeType":"132","endLine":11,"endColumn":10,"suggestions":"143"},{"ruleId":"130","severity":1,"message":"142","line":15,"column":8,"nodeType":"132","endLine":15,"endColumn":10,"suggestions":"144"},{"ruleId":"130","severity":1,"message":"142","line":20,"column":8,"nodeType":"132","endLine":20,"endColumn":20,"suggestions":"145"},"no-native-reassign",["146"],"no-negated-in-lhs",["147"],"@typescript-eslint/no-unused-vars","'location' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getList'. Either include it or remove the dependency array.","ArrayExpression",["148"],["149"],"React Hook useEffect has a missing dependency: 'mine'. Either include it or remove the dependency array.",["150"],"'result' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","React Hook useEffect has a missing dependency: 'search'. Either include it or remove the dependency array.",["151"],["152"],["153"],"no-global-assign","no-unsafe-negation",{"desc":"154","fix":"155"},{"desc":"156","fix":"157"},{"desc":"158","fix":"159"},{"desc":"160","fix":"161"},{"desc":"160","fix":"162"},{"desc":"163","fix":"164"},"Update the dependencies array to be: [getList]",{"range":"165","text":"166"},"Update the dependencies array to be: [getList, page]",{"range":"167","text":"168"},"Update the dependencies array to be: [mine]",{"range":"169","text":"170"},"Update the dependencies array to be: [search]",{"range":"171","text":"172"},{"range":"173","text":"172"},"Update the dependencies array to be: [search, searchText]",{"range":"174","text":"175"},[1049,1051],"[getList]",[1104,1110],"[getList, page]",[595,597],"[mine]",[339,341],"[search]",[410,412],[512,524],"[search, searchText]"]