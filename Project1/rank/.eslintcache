[{"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx":"1","D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx":"2","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx":"3","D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts":"4","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx":"5","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx":"6","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx":"7","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx":"8","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx":"9","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx":"10","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts":"11","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts":"12","D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts":"13","D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js":"14","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts":"15","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts":"16","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts":"17","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts":"18","D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts":"19","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts":"20","D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\Loading.tsx":"21","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\global.ts":"22","D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\toast.ts":"23","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Search.tsx":"24","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\search.ts":"25","D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\search.ts":"26","D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\SearchTip.tsx":"27","D:\\web\\project\\1805B\\Project1\\rank\\src\\hooks\\useThrotte.ts":"28"},{"size":483,"mtime":1610438691995,"results":"29","hashOfConfig":"30"},{"size":526,"mtime":1610438819127,"results":"31","hashOfConfig":"30"},{"size":827,"mtime":1610088481807,"results":"32","hashOfConfig":"30"},{"size":920,"mtime":1610671000254,"results":"33","hashOfConfig":"30"},{"size":211,"mtime":1610074667546,"results":"34","hashOfConfig":"30"},{"size":211,"mtime":1610074670222,"results":"35","hashOfConfig":"30"},{"size":756,"mtime":1610350346638,"results":"36","hashOfConfig":"30"},{"size":2988,"mtime":1610671161552,"results":"37","hashOfConfig":"30"},{"size":2462,"mtime":1610440108800,"results":"38","hashOfConfig":"30"},{"size":1427,"mtime":1610671072837,"results":"39","hashOfConfig":"30"},{"size":99,"mtime":1610672258996,"results":"40","hashOfConfig":"30"},{"size":460,"mtime":1610094059940,"results":"41","hashOfConfig":"30"},{"size":1343,"mtime":1610440201997,"results":"42","hashOfConfig":"30"},{"size":1046,"mtime":1610090212841,"results":"43","hashOfConfig":"30"},{"size":185,"mtime":1610439748132,"results":"44","hashOfConfig":"30"},{"size":249,"mtime":1610672535076,"results":"45","hashOfConfig":"30"},{"size":107,"mtime":1610429790432,"results":"46","hashOfConfig":"30"},{"size":559,"mtime":1610526740196,"results":"47","hashOfConfig":"30"},{"size":153,"mtime":1610433026110,"results":"48","hashOfConfig":"30"},{"size":1045,"mtime":1610526789968,"results":"49","hashOfConfig":"30"},{"size":370,"mtime":1610438901843,"results":"50","hashOfConfig":"30"},{"size":267,"mtime":1610438878880,"results":"51","hashOfConfig":"30"},{"size":309,"mtime":1610440259677,"results":"52","hashOfConfig":"30"},{"size":2436,"mtime":1610699558916,"results":"53","hashOfConfig":"30"},{"size":435,"mtime":1610674861397,"results":"54","hashOfConfig":"30"},{"size":1887,"mtime":1610674776825,"results":"55","hashOfConfig":"30"},{"size":259,"mtime":1610698653289,"results":"56","hashOfConfig":"30"},{"size":366,"mtime":1610699620725,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"gha5av",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"60"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\web\\project\\1805B\\Project1\\rank\\src\\index.tsx",[],["119","120"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\App.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\RouterView.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\router\\config.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Classify.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Login.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Main.tsx",["121"],"import React from 'react'\r\nimport {useLocation, NavLink} from 'react-router-dom'\r\nimport RouterView from '../router/RouterView';\r\nimport { IRouteItem } from '../utils/interface';\r\n\r\ninterface IProps{\r\n    routes: IRouteItem[]\r\n}\r\nconst Mine: React.FC<IProps> = (props)=>{\r\n    let location = useLocation();\r\n    // return <p>{JSON.stringify(location)}</p>\r\n    return <React.Fragment>\r\n        <RouterView routes={props.routes}></RouterView>\r\n        <footer>\r\n            <NavLink to=\"/main/index\">首页</NavLink>\r\n            <NavLink to=\"/main/classify\">分类</NavLink>\r\n            <NavLink to=\"/main/message\">消息</NavLink>\r\n            <NavLink to=\"/main/mine\">我的</NavLink>\r\n        </footer>\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Index.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Message.tsx",["122","123"],"import React,{useEffect, useState, useRef} from 'react'\r\nimport { IMessageItem } from '../../utils/interface';\r\nimport { getMessageList } from '../../services'\r\nimport styles from './Message.module.scss'\r\nimport BScroll from '@better-scroll/core'\r\nimport Pulldown from '@better-scroll/pull-down'\r\nimport { BScrollConstructor } from '@better-scroll/core/dist/types/BScroll';\r\nimport {PluginAPI} from '@better-scroll/pull-down/dist/types'\r\n\r\nBScroll.use(Pulldown)\r\nlet scroll: BScrollConstructor & PluginAPI;\r\n\r\nconst Mine: React.FC = ()=>{\r\n    let [list, setList] = useState<IMessageItem []>([]);\r\n    let [page, setPage] = useState(1);\r\n    let [hasMore, setHasMore] = useState(true);\r\n    let ele = useRef();\r\n\r\n    //请求锁，防止同一请求重复触发\r\n    let getingList = false;\r\n\r\n    useEffect(()=>{\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        scroll = new BScroll('#wrap', {\r\n            pullDownRefresh: true\r\n        })\r\n        scroll.on('pullingDown', ()=>{\r\n            setPage(1);\r\n            getList();\r\n        })\r\n    }, []);\r\n\r\n    useEffect(()=>{\r\n        getList()\r\n    }, [page]);\r\n\r\n    async function getList(){\r\n        if (getingList){\r\n            return;\r\n        }\r\n        getingList = true;\r\n        let res = await getMessageList(page);\r\n        getingList = false;\r\n        scroll.finishPullDown();\r\n        if(res){\r\n            setHasMore(res.data.pageNo < res.data.totalPage)\r\n            if (page === 1){\r\n                setList(res.data.dataList as IMessageItem[])\r\n            }else{\r\n                setList([...list, ...res.data.dataList]);\r\n            }\r\n        }\r\n    }\r\n\r\n    function scrollEvent(e: React.UIEvent<HTMLDivElement>){\r\n        if (!hasMore || getingList){\r\n            return;\r\n        }\r\n        let wrap = e.currentTarget;\r\n        if (wrap.clientHeight + wrap.scrollTop > (ele.current as HTMLElement).clientHeight - 10){\r\n            setPage(page+1);\r\n        }\r\n    }\r\n\r\n    return <div className={styles.wrap} id=\"wrap\" onScroll={scrollEvent}>\r\n        <ul ref={ele}>{list.map(item=>{\r\n            return <li key={item.id} className=\"li\">\r\n                <img src=\"\" alt=\"\" className={styles.icon}/>\r\n                <p className={styles.content}>\r\n                    <span>排名更新：{item.title}</span>\r\n                    <span>{item.sendDate}</span>\r\n                </p>\r\n            </li>\r\n        })}</ul>\r\n    </div>\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\main\\Mine.tsx",["124","125"],"import React, {useState, useEffect } from 'react'\r\nimport { useObserver } from 'mobx-react-lite'\r\nimport useStore from '../../context/useStore';\r\n\r\nconst Mine: React.FC = () => {\r\n    let { mine } = useStore();\r\n    let [phone, setPhone] = useState<string>();\r\n    let [code, setCode] = useState<string>();\r\n\r\n    useEffect(() => {\r\n        // let timer = setInterval(()=>{\r\n        //     mine.setInfo( +new Date())\r\n        //     console.log(mine.info);\r\n        // }, 1000);\r\n        // return ()=>{\r\n        //     window.clearInterval(timer);\r\n        // }\r\n        mine.getInfo()\r\n    }, []);\r\n\r\n    async function sendCode(){\r\n        console.log('phone...', phone);\r\n        if (/\\d{11}/.test(phone)){\r\n           let result = await mine.sendCode(phone);\r\n        //    if (result){\r\n               \r\n        //    }\r\n        }\r\n    }\r\n\r\n    return useObserver(()=><div>\r\n        <p>我的页面{JSON.stringify(mine.info)}</p>\r\n        {/* <button onClick={() => mine.setInfo(+new Date())}>修改info</button> */}\r\n        <input type=\"number\" placeholder=\"请输入您的手机号\" value={phone} onChange={e=>setPhone(e.target.value)}/>\r\n        <div>\r\n            <input type=\"number\" maxLength={6} placeholder=\"请输入手机号验证码\"  value={code} onChange={e=>setCode(e.target.value)}/> \r\n            <button onClick={sendCode}>发送验证码</button>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\nexport default Mine;","D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\home.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\request.ts",["126"],"import axios from 'axios'\r\nimport store from '../store';\r\nimport {toast} from './toast'\r\n\r\nconst erros = {\r\n    400: '客户端请求错误',\r\n    401: '请求未经授权',\r\n    404: '未找到资源',\r\n    500: '服务器内部错误',\r\n    502: '网关错误',\r\n    503: '服务不可用'\r\n}\r\n\r\nconst instance = axios.create({\r\n    // baseURL: 'http://47.92.71.239/',\r\n    timeout: 30000\r\n});\r\n\r\n// 请求拦截器\r\ninstance.interceptors.request.use(function (config) {\r\n    store.global.showLoading();\r\n    // Do something before request is sent\r\n    return config;\r\n}, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n});\r\n\r\n// 相应拦截器\r\ninstance.interceptors.response.use(function (response) {\r\n    store.global.hideLoading();\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    // 1. 处理网络请求错误\r\n    if (response.status != 200){\r\n        toast(erros[response.status]);\r\n        return;\r\n    }\r\n    // 2. 处理业务逻辑错误\r\n    if (response.data.result !== '0'){\r\n        toast(response.data.resultNote);\r\n        return;\r\n    }\r\n    return response;\r\n}, function (error) {\r\n    store.global.hideLoading();\r\n    toast(error.toString());\r\n    return;\r\n});\r\n\r\nexport default instance;","D:\\web\\project\\1805B\\Project1\\rank\\src\\mock\\index.js",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\message.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\index.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\StoreContext.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\mine.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\context\\useStore.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\mine.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\Loading.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\global.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\utils\\toast.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\views\\Search.tsx",["127","128","129","130","131"],"D:\\web\\project\\1805B\\Project1\\rank\\src\\services\\search.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\store\\module\\search.ts",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\components\\SearchTip.tsx",[],"D:\\web\\project\\1805B\\Project1\\rank\\src\\hooks\\useThrotte.ts",["132","133"],{"ruleId":"134","replacedBy":"135"},{"ruleId":"136","replacedBy":"137"},{"ruleId":"138","severity":1,"message":"139","line":10,"column":9,"nodeType":"140","messageId":"141","endLine":10,"endColumn":17},{"ruleId":"142","severity":1,"message":"143","line":31,"column":8,"nodeType":"144","endLine":31,"endColumn":10,"suggestions":"145"},{"ruleId":"142","severity":1,"message":"143","line":35,"column":8,"nodeType":"144","endLine":35,"endColumn":14,"suggestions":"146"},{"ruleId":"142","severity":1,"message":"147","line":19,"column":8,"nodeType":"144","endLine":19,"endColumn":10,"suggestions":"148"},{"ruleId":"138","severity":1,"message":"149","line":24,"column":16,"nodeType":"140","messageId":"141","endLine":24,"endColumn":22},{"ruleId":"150","severity":1,"message":"151","line":35,"column":25,"nodeType":"152","messageId":"153","endLine":35,"endColumn":27},{"ruleId":"138","severity":1,"message":"154","line":11,"column":10,"nodeType":"140","messageId":"141","endLine":11,"endColumn":15},{"ruleId":"138","severity":1,"message":"155","line":11,"column":17,"nodeType":"140","messageId":"141","endLine":11,"endColumn":25},{"ruleId":"142","severity":1,"message":"156","line":21,"column":8,"nodeType":"144","endLine":21,"endColumn":10,"suggestions":"157"},{"ruleId":"142","severity":1,"message":"156","line":25,"column":8,"nodeType":"144","endLine":25,"endColumn":10,"suggestions":"158"},{"ruleId":"142","severity":1,"message":"159","line":31,"column":8,"nodeType":"144","endLine":31,"endColumn":20,"suggestions":"160"},{"ruleId":"138","severity":1,"message":"161","line":3,"column":23,"nodeType":"140","messageId":"141","endLine":3,"endColumn":24},{"ruleId":"142","severity":1,"message":"162","line":10,"column":21,"nodeType":"140","endLine":10,"endColumn":24},"no-native-reassign",["163"],"no-negated-in-lhs",["164"],"@typescript-eslint/no-unused-vars","'location' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getList'. Either include it or remove the dependency array.","ArrayExpression",["165"],["166"],"React Hook useEffect has a missing dependency: 'mine'. Either include it or remove the dependency array.",["167"],"'result' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'count' is assigned a value but never used.","'setCount' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'search'. Either include it or remove the dependency array.",["168"],["169"],"React Hook useEffect has a missing dependency: 'searchTip'. Either include it or remove the dependency array.",["170"],"'T' is defined but never used.","Assignments to the 'start' variable from inside React Hook React.useCallback will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside React.useCallback.","no-global-assign","no-unsafe-negation",{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"177","fix":"179"},{"desc":"180","fix":"181"},"Update the dependencies array to be: [getList]",{"range":"182","text":"183"},"Update the dependencies array to be: [getList, page]",{"range":"184","text":"185"},"Update the dependencies array to be: [mine]",{"range":"186","text":"187"},"Update the dependencies array to be: [search]",{"range":"188","text":"189"},{"range":"190","text":"189"},"Update the dependencies array to be: [searchText, searchTip]",{"range":"191","text":"192"},[1049,1051],"[getList]",[1104,1110],"[getList, page]",[595,597],"[mine]",[690,692],"[search]",[761,763],[907,919],"[searchText, searchTip]"]